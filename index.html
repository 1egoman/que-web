<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Que: The Internet of Things for Programmers</title>

    <!-- Bootstrap -->
    <link href="src/css/index.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>

    <div class="hero-image">

      <!-- navbar -->
      <nav class="navbar navbar-que-web" role="navigation">
        <div class="container">
          <!-- Brand and toggle get grouped for better mobile display -->
          <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="#">Que</a>
          </div>

          <!-- Collect the nav links, forms, and other content for toggling -->
          <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
              <li class="active"><a href="#">Link</a></li>
              <li><a href="#">Link</a></li>
            </ul>
          </div><!-- /.navbar-collapse -->
        </div><!-- /.container-fluid -->
      </nav>

      <!-- the hero image -->
      <div class="jumbotron">
        <div class="container">

          <div class="right">
            <h1>Introducing Que</h1>
            <p>An Internet of Things Controller for Programmers</p>
            <!-- control freaks, coders, programmers, geeks, technophiles, power users, super users, makers -->
          </div>

          <div class="hero-window">
            <img class="inset inset-lg" src="src/img/dash.png"/>
            <img src="/src/img/cursor.svg" class="cursor"/>
          </div>

        </div>
      </div>
    </div>

    <!-- content -->
    <section>
      <h1>Yea, IoT Controllers already exist. But this is better.</h1>
      <p>
        Que is better that the average Internet of Things controller. With Que, anything with
        a API can become a thing - this means most of the internet-connected products you use everyday including
        <a href="http://nest.com">Nest</a>, <a href="http://lono.io">Lono</a>, or <a href="http://spark.io">Spark</a>
        and anything you make yourself can <span>easily be connected and working in a short period of time</span>.
      </p>
    </section>

    <section>
      <h1>Que supports the Spark Core</h1>
      <p>
        <img src="src/img/spark.png" class="pull-right" style="width: 300px;"/>
        Que and Spark are the best way to automate your next project. With Que, your spark instantly has a ready-to-use
        dashboard. <span>It doesn't even require any programming</span> to get started - both on the spark and within Que. Just follow
        a simple wizard to link Que and the spark. And also, if you know some programming, your spark gains a simple javascript
        api that's functional within the browser. More information about setting up a spark can be found <a href="http://1egoman.viewdocs.io/que-iot/addspark">here</a>.
      </p>
    </section>

    <section>
      <h1>Section Header</h1>
      <p>
        Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
        tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,
        quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
        consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse
        cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non
        proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
      </p>
    </section>

    <section class="dark">
      <a class="btn btn-hero btn-lg" href="">Download Que</a>
    </section>


    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="src/bootstrap/js/bootstrap.min.js"></script>

    <script>
      var topOffset, leftOffset;

      // 1 is biggest
      // 3 is smallest
      var whichType = function() {
        if ($(window).width() > 1200) {
          return $(window).height() > 750 && 1 || 2;
        } else {
          return 3;
        }
      };

      if (whichType() == 1) {
        // bigger version
        topOffset = 32;
        leftOffset = 0;
        var points = [
          [880, 36, "things.png"],
          [950, 420, "things-on.png"]
        ];
      } else if (whichType() == 2) {
        topOffset = 24;
        leftOffset = 242;
        var points = [
          [710, 12, "things.png"],
          [750, 176, "things-on.png"]
        ];
      } else {
        topOffset = 24;
        leftOffset = 242;
        var points = [
          [610, 12, "things.png"],
          [650, 176, "things-on.png"]
        ];
      }

      var startCursor = function() {
        var cursor = $(".cursor");
        var inset = $(".inset");
        // move to next point
        for (var i = 0; i < points.length; i++) {
          point = points[i];
          cursor.animate({
            left: point[0],
            top: point[1]+topOffset,
            letterSpacing: i+"px"
          }, 2500, function() {
            i = parseInt(cursor.css("letterSpacing").slice(0, -2)) || 0;
            inset.attr("src", "/src/img/"+points[i][2]);
            console.log(points.length, i)
            if (points.length-1 <= i) {
              // we're done! fade out.
              cursor.animate({opacity: 0}, 500);
            }
          });
        };
      };

      $(document).ready(function() {
        // start with a delay
        setTimeout(startCursor, 1000);
      });
    </script>

  </body>
</html>
